<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./lightbulb.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Natty Zepko's Portfolio</title>
    <style>
        #loading {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 1rem;
            font-family: system-ui, Avenir, Helvetica, Arial;
            background: rgba(14, 16, 26, 0.55);
            backdrop-filter: blur(3px);
            z-index: 9999;
            transition: opacity .35s ease;
        }

        #loading.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        #loading-text {
            font-size: .9rem;
            letter-spacing: .5px;
            opacity: .85;
            text-align: center;
            max-width: 70ch;
        }

        #loadingbar-wrap {
            width: 320px;
            max-width: 70vw;
            height: 14px;
            background: rgba(255, 255, 255, 0.12);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.15), 0 4px 14px -4px rgba(0, 0, 0, 0.6);
        }

        #loadingbar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ffc94d, #ffb300);
            transition: width .4s cubic-bezier(.22, .61, .36, 1);
        }

        #loading small {
            opacity: .55;
            font-size: .7rem;
            letter-spacing: .35px;
        }
    </style>
    <script>
        window.updateLoading = function (step, ratio) {
            try {
                const textEl = document.getElementById('loading-text');
                const bar = document.getElementById('loadingbar');
                if (textEl) textEl.textContent = step;
                if (bar && typeof ratio === 'number') bar.style.width = Math.min(Math.max(ratio, 0), 1) * 100 + '%';
                if (ratio >= 1) { const l = document.getElementById('loading'); if (l) l.classList.add('fade-out'); }
            } catch (e) { console.warn('updateLoading failed', e); }
        };
    </script>
</head>

<body>
    <div id="loading">
        <div id="loadingbar-wrap">
            <div id="loadingbar"></div>
        </div>
        <div id="loading-text">Startingâ€¦</div>
        <small>Preparing assets</small>
    </div>
    <canvas id="background"></canvas>
    <main id="content"></main>
    <script type="module" src="./src/main.js"></script>
</body>

</html>